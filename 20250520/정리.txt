캐글참여를 위한 수업/학습코스/ 프로젝트 제공

Newsfeed를 통해 캐글의 최신소식 공유/ 가입자 정보

데이터 전처리

라벨 인코더, df.astype(‘category’).cat.codes, get_dummies,* One hot encoding
* 정상성(定常性, Stationarity): 통계적 시계열 분석에 필요한 가정
-일정하여 늘 한곁같은 성질
-과거와 현재와 미래의 모두 항상 안정적인, 일정한 분포를 가진 것

* 정상성(定常性, Stationarity): 세가지 조건
1.임의의 t에 대해서 E(Xt)=μ (평균)
2.임의의 t에 대해서 Var(Xt)<∞ (분산)
3.임의의 t, h에 대하여 Cov(Xt+h,Xt)=γ(h) (공분산)
예를 들어, A 주식이 정상성을 띤다고 가정하고
이 주가의 평균이 3천원이고, 임의의 시점을 t = 2023년 1월 3일이라 가정하면
1.2023년 1월 3일의 주가의 평균이 μ=3천원이고
2.2023년 1월 3일의 주가의 분산이 유한하며 (= 극단치로 터지지 않고)
3.2023년 1월 3일의 주가와, 그로부터 5일 뒤인 2020년 1월 8일의 주가 간의
공분산이 γ(5)임을 의미합니다.
γ(h)는 자기공분산 함수 (Autocovariance Function, ACVF)라 불리우는데, 공분산이
시점 t에 의존하지 않고, 시간의 차이인 h에만 의존함을 의미
=> 정상성은 예측이 가능하도록 시간의 차이에만 의존하는
평균이 일정하고 분산이 유한한 모델(?)

주가, 즉 시계열 자료가 정상성을 띠지 않으면, AR, MA, ARIMA 등
전통적인 시계열 분석 방법들을 사용하기 어렵기 때문에 시계열 자료들에
어떤 변환을 취해 정상성을 띠도록 만들어야
=> 차분 (Differencing)과 로그 변환

AR(Auto Regressive) :
시계열 데이터가 자기상관을 가지고 있을 때 사용하는 추세모형.
AR 과정은 과거 관측값들을 이용해 시계열 데이터를 설명할 수 있는 추세모형
MA(Moving Average) :
시계열 데이터가 자기상관을 가지고 있을 때 사용하는 추세모형.
이전 관측값들의 오차항을 이용해 시계열 데이터를 설명할 수 있는 추세모형
ARIMA(Auto Regressive Integrated Moving Average) 모형 :
시계열 데이터에서 정상성(stationarity)을 유지하기 위해
차분(differencing) 작업을 수행한 후, 자기상관과 이동평균을 이용해 시계열
데이터를 설명할 수 있는 추세모형

차분 (Differencing)
-차분은 tt시점과 t−1t−1시점의 값의 차이를 구하는 것
-연이은 관측값의 차이에 차분을 취하면, 그 차이값들의 평균은 일정하여 정상성을 띠게 되는 것
-2차 차분 :가끔 차분을 해도 시계열의 정상성이 만족되지 않는 경우,
정상성을 나타내는 시계열을 얻기 위해 한 번 더 차분을 구하는 작업이 필요할 수도.
-계절성 차분
계절성 차분은 관측치와, 같은 계절의 이전 관측값과의 차이

로그 변환
-로그 변환을 통해 정상성을 띠지 않는 시계열 자료의 분산
- 값의 변동 자체가 큰 경우 (= 분산이 큰 경우) 고려
- GDP와 같은 많은 경제 시게열 자료가 근사적으로 지수적인 성장을 나타내고 있는 경우
- 어떤 시계열이 선형적으로 증가한다는 뜻은 즉,시간에 따른 증가분 (차분)이 일정하다는 것
로그 변환된 시계열에 차분까지 해주면 정상성을 만족시킬 수 있다.

* 자기 상관 함수 (ACF; Auto Correlation Function)
- 정상성을 가지는 시계열인지 알수 있는 도구
- 시계열 자료에서 t 시점의 값과 그보다 k시점 앞선 t−k시점 간의 상관 계수를 rk라 할 때,
다음과 같이 자기 상관 함수가 정의
ACF를 그렸을 때 정상성을 띠는 데이터는 파란색 점선,
즉 신뢰 구간 안에 자기 상관이 존재할 경우, 데이터가 정상성을 띤다고 할 수 있다.
즉, 어제의 데이터와 오늘의 데이터 간에 상관 관계에 더블어, 허용 범위 (파란색 점선)
안에 들어온다는 것을 의미. => ACF가 정상성을 뛴다.